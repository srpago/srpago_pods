{"primaryContentSections":[{"kind":"content","content":[{"anchor":"Overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"This module was in charge of search and filter any bluetooth device to in a list of possible readers property of Konfio and Sr.Pago or some generic printers"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"In addition to, this module work as a base modulo of KNPrinterModule"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"This module is part of a bigger module named Konfio Payments"}]},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"BluetoothModule.png"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The mainly entry point of this module is file KNConnectionManager, who let you star found any reader do you prefer"}]},{"anchor":"Previous-Requirement","level":2,"type":"heading","text":"Previous Requirement"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The app where this module will be live, need to request bluetooth permissions in his plist file by NSBluetoothAlwaysUsageDescription parameter."},{"type":"text","text":" "},{"type":"text","text":"This module only recognize pinpad and pinpad mini readers, so you need to have at less one of them to test it"}]},{"anchor":"Use","level":2,"type":"heading","text":"Use"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To consume this module is needed to implement the class KNConnectionManager and specify which classes were to implement all delegates in charge to manage bluetooth state, printer discovery and readers discovery. Te consume of connect with a specify reader has in charge of KNPaymnentManager becouse use the SDK of reader selected"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"To manage state of your bluetooth is needed to implement KNBluetoothDelegate"}]},{"type":"codeListing","syntax":"swift","code":["public protocol KNBluetoothDelegate: AnyObject {","    \/\/\/ Function to return a list of possible devices to vinculate","    \/\/\/ - Parameter devices: List of devices found","    func onListReadersFound(devices: [KNBluetoothReader])","    ","    \/\/\/ Function to return a list of possible printers to vinculate","    \/\/\/  - Parameter devices: List of devices found","    func onListPrintersFound(devices: [KNPrinter])","    ","    \/\/\/ Function that indicates the status of your bluetooth","    \/\/\/ - Parameter state: Current bluetooth status","    func bluetooth(state: KNBluetoothState)","}","","public extension KNBluetoothDelegate {","    ","    func onListReadersFound(devices: [KNBluetoothReader]) {}","    ","    func onListPrintersFound(devices: [KNPrinter]) {}","}",""]},{"type":"paragraph","inlineContent":[{"type":"text","text":"To manage state of your readers discovery"}]},{"type":"codeListing","syntax":"swift","code":["protocol KNPeripherialDelegate: AnyObject {","    func peripherial(_ peripherial: CBPeripheral, characteristic write: CBCharacteristic)","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"To manage state of your printers discovery"}]},{"type":"codeListing","syntax":"swift","code":["public protocol KNBluetoothPrinterDelegate: AnyObject {    ","    func printer(_ printer: KNPrinter, connected: Bool)    ","}"]}]}],"schemaVersion":{"major":0,"minor":2,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/knbluetoothmodule"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/com.srpago.KNBluetoothModule\/documentation\/KNBluetoothModule","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Konfio module in charge to found readers who will be use to start a transaction"}],"kind":"symbol","metadata":{"roleHeading":"Framework","externalID":"KNBluetoothModule","title":"KNBluetoothModule","symbolKind":"module","role":"collection","modules":[{"name":"KNBluetoothModule"}]},"hierarchy":{"paths":[[]]},"topicSections":[{"title":"Classes","identifiers":["doc:\/\/com.srpago.KNBluetoothModule\/documentation\/KNBluetoothModule\/KNBluetoothPermissionsHelper","doc:\/\/com.srpago.KNBluetoothModule\/documentation\/KNBluetoothModule\/KNConnectionManager"]},{"title":"Protocols","identifiers":["doc:\/\/com.srpago.KNBluetoothModule\/documentation\/KNBluetoothModule\/KNBluetoothDelegate","doc:\/\/com.srpago.KNBluetoothModule\/documentation\/KNBluetoothModule\/KNBluetoothPrinterDelegate"]}],"references":{"BluetoothModule.png":{"alt":"Module Diagram","type":"image","identifier":"BluetoothModule.png","variants":[{"url":"\/images\/BluetoothModule.png","traits":["1x","light"]}]},"doc://com.srpago.KNBluetoothModule/documentation/KNBluetoothModule/KNConnectionManager":{"role":"symbol","title":"KNConnectionManager","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"KNConnectionManager"}],"abstract":[{"type":"text","text":"Class that works as an entry point for bluetooth comunication"}],"identifier":"doc:\/\/com.srpago.KNBluetoothModule\/documentation\/KNBluetoothModule\/KNConnectionManager","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"KNConnectionManager"}],"url":"\/documentation\/knbluetoothmodule\/knconnectionmanager"},"doc://com.srpago.KNBluetoothModule/documentation/KNBluetoothModule/KNBluetoothPermissionsHelper":{"role":"symbol","title":"KNBluetoothPermissionsHelper","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"KNBluetoothPermissionsHelper"}],"abstract":[{"type":"text","text":"Class with some helpers to indicate the bluetooth permission"}],"identifier":"doc:\/\/com.srpago.KNBluetoothModule\/documentation\/KNBluetoothModule\/KNBluetoothPermissionsHelper","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"KNBluetoothPermissionsHelper"}],"url":"\/documentation\/knbluetoothmodule\/knbluetoothpermissionshelper"},"doc://com.srpago.KNBluetoothModule/documentation/KNBluetoothModule/KNBluetoothDelegate":{"role":"symbol","title":"KNBluetoothDelegate","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"KNBluetoothDelegate"}],"abstract":[{"type":"text","text":"Protocol of bluetooth response"}],"identifier":"doc:\/\/com.srpago.KNBluetoothModule\/documentation\/KNBluetoothModule\/KNBluetoothDelegate","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"KNBluetoothDelegate"}],"url":"\/documentation\/knbluetoothmodule\/knbluetoothdelegate"},"doc://com.srpago.KNBluetoothModule/documentation/KNBluetoothModule/KNBluetoothPrinterDelegate":{"role":"symbol","title":"KNBluetoothPrinterDelegate","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"KNBluetoothPrinterDelegate"}],"abstract":[{"type":"text","text":"Protocol to indicate printer selected"}],"identifier":"doc:\/\/com.srpago.KNBluetoothModule\/documentation\/KNBluetoothModule\/KNBluetoothPrinterDelegate","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"KNBluetoothPrinterDelegate"}],"url":"\/documentation\/knbluetoothmodule\/knbluetoothprinterdelegate"},"doc://com.srpago.KNBluetoothModule/documentation/KNBluetoothModule":{"role":"collection","title":"KNBluetoothModule","abstract":[{"type":"text","text":"Konfio module in charge to found readers who will be use to start a transaction"}],"identifier":"doc:\/\/com.srpago.KNBluetoothModule\/documentation\/KNBluetoothModule","kind":"symbol","type":"topic","url":"\/documentation\/knbluetoothmodule"}}}