{"primaryContentSections":[{"kind":"content","content":[{"anchor":"Overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"This class is in charge of manage all payment workflow of your readers, from linked until print your receipt"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Using the Sr.Pago SDK will allow you to create the best possible solution for your individual needs, providing you with a range usages to choose from."}]},{"anchor":"Get-started","level":2,"type":"heading","text":"Get started"},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"General.png"}]},{"anchor":"General-Requirements","level":3,"type":"heading","text":"General Requirements"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The minimum requirements for the SDK are:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"iOS 11.0 and higher"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Internet connection"}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The following architectures are supported in the SDK:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"ARMv7"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"ARM64"}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"To comply with access to confidential user data from Apple, it is necessary to complete a description of the following privacy requirements in your info.plist file"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Privacy - Bluetooth Always Usage Description"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Privacy - Bluetooth Peripheral Usage Description"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Privacy - Location When In Use Usage Description"}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Register in "},{"type":"reference","isActive":true,"identifier":"https:\/\/my.srpago.com\/session\/login"},{"type":"text","text":" to get your appkey and appsecret"}]},{"anchor":"Instalation","level":3,"type":"heading","text":"Instalation"},{"type":"paragraph","inlineContent":[{"type":"text","text":"TBD"}]},{"anchor":"Use","level":3,"type":"heading","text":"Use"},{"type":"paragraph","inlineContent":[{"type":"text","text":"KNPayment is a singleton so you can access his methods without need to initialize his class"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"To found readers you need to indica that class will implement his bluetooth delegate"}]},{"type":"codeListing","syntax":"swift","code":["KNPayment.shared().configBluetoothReaderState(delegate: self)","KNPayment.shared().searchDevices(nil)"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"All readers founded will be show in onListReadersFound, then you can select which device wish to be linked"}]},{"type":"codeListing","syntax":"swift","code":["func onListReadersFound(devices: [KNBluetoothReader]) {","    KNPayment.shared().connectReader(devices.firts)","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Once you have been connected with a reader, this reader will be save in data base, so you can try to reconnect with this by tryReconnect method"}]},{"type":"codeListing","syntax":"swift","code":["KNPayment.shared().tryReconnect()"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"To found readers and print in they you need to indica that class will implement his printer delegate"}]},{"type":"codeListing","syntax":"swift","code":["KNPayment.shared().configPrinter(delegate: self)","KNPayment.shared().searchPrinters(nil)"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"As bluetooth manager, once a printer is founded you will be notify by printer function and can select which printer wish to be linked"}]},{"type":"codeListing","syntax":"swift","code":["func printer(printers: [KNPrinter]) {","    self.printers = printers","    KNPayment.shared().connectPrinter(printer: printer)","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Before start a transaction is need to configurate his environment and his credentials with a KNConfigurator"}]},{"type":"codeListing","syntax":"swift","code":["let config = KNConfigurator(appKey: \"app_Key\", appSecret: \"app_Secret\", environment: .sandbox)","KNPayment.shared().configure(config)"]},{"anchor":"Minimum-amount","level":3,"type":"heading","text":"Minimum amount"},{"type":"paragraph","inlineContent":[{"type":"text","text":"In order to achieve reader can make any transaction, keep in mind that the minimum amount for any transaction is $1 MXN."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Remember to make an amount check to validate this value, you can implement a notification (alert, toast, etc), to notify user to let him know this minimum amount."}]}]}],"schemaVersion":{"major":0,"minor":1,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/knpayment"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/com.srpago.KNPayment\/documentation\/KNPayment","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Main Framework for Payment Module"}],"kind":"symbol","metadata":{"roleHeading":"Framework","externalID":"KNPayment","title":"KNPayment","symbolKind":"module","role":"collection","modules":[{"name":"KNPayment"}]},"hierarchy":{"paths":[[]]},"topicSections":[{"title":"Classes","identifiers":["doc:\/\/com.srpago.KNPayment\/documentation\/KNPayment\/KNPayment"]},{"title":"Protocols","identifiers":["doc:\/\/com.srpago.KNPayment\/documentation\/KNPayment\/KNBluetoothReaderDelegate"]}],"references":{"https://my.srpago.com/session/login":{"title":"My SrPago","titleInlineContent":[{"type":"text","text":"My SrPago"}],"type":"link","identifier":"https:\/\/my.srpago.com\/session\/login","url":"https:\/\/my.srpago.com\/session\/login"},"doc://com.srpago.KNPayment/documentation/KNPayment/KNPayment":{"role":"symbol","title":"KNPayment","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"KNPayment"}],"abstract":[],"identifier":"doc:\/\/com.srpago.KNPayment\/documentation\/KNPayment\/KNPayment","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"KNPayment"}],"url":"\/documentation\/knpayment\/knpayment"},"doc://com.srpago.KNPayment/documentation/KNPayment":{"role":"collection","title":"KNPayment","abstract":[{"type":"text","text":"Main Framework for Payment Module"}],"identifier":"doc:\/\/com.srpago.KNPayment\/documentation\/KNPayment","kind":"symbol","type":"topic","url":"\/documentation\/knpayment"},"doc://com.srpago.KNPayment/documentation/KNPayment/KNBluetoothReaderDelegate":{"role":"symbol","title":"KNBluetoothReaderDelegate","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"KNBluetoothReaderDelegate"}],"abstract":[],"identifier":"doc:\/\/com.srpago.KNPayment\/documentation\/KNPayment\/KNBluetoothReaderDelegate","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"KNBluetoothReaderDelegate"}],"url":"\/documentation\/knpayment\/knbluetoothreaderdelegate"},"General.png":{"alt":"Module Diagram","type":"image","identifier":"General.png","variants":[{"url":"\/images\/General.png","size":{"width":1036,"height":842},"traits":["1x","light"]}]}}}